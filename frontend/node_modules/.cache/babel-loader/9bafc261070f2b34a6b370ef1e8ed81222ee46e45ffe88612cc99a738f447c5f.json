{"ast":null,"code":"import _regeneratorRuntime from \"/Users/tuanquyen/Desktop/HUST/project-3-final/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/tuanquyen/Desktop/HUST/project-3-final/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport numeral from \"numeral\";\nvar gradients = [[\"#42b3f4\"], [\"red\", \"orange\", \"yellow\"], [\"purple\", \"violet\"], [\"#00c6ff\", \"#F0F\", \"#FF0\"], [\"#f72047\", \"#ffd200\", \"#1feaea\"]];\nexport default {\n  components: {},\n  data: function data() {\n    return {\n      value: [],\n      date: new Date(),\n      year: 0,\n      yearItems: [],\n      fill: false,\n      selectedGradient: gradients[4],\n      gradients: gradients,\n      padding: 8,\n      radius: 10,\n      labelSize: 2,\n      width: 2\n    };\n  },\n  methods: {\n    formattedPrice: function formattedPrice(price) {\n      return numeral(price).format(\"0,0\");\n    },\n    renderLabel: function renderLabel(item) {\n      if (item.value != 0) {\n        return \"\".concat(item.index + 1, \"/\").concat(this.year, \" - \").concat(this.formattedPrice(item.value), \" VN\\u0110\");\n      } else {\n        return \"-\";\n      }\n    },\n    loadSparkLine: function loadSparkLine() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.value = [];\n              i = 1;\n            case 2:\n              if (!(i <= 12)) {\n                _context.next = 8;\n                break;\n              }\n              _context.next = 5;\n              return _this.$axios.get(\"/sales?month=\".concat(i, \"&year=\").concat(_this.year)).then(function (res) {\n                _this.value.push(res.data.sale_value);\n              })[\"catch\"](function (err) {\n                console.error(err);\n              });\n            case 5:\n              i++;\n              _context.next = 2;\n              break;\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var i;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _this2.year = _this2.date.getFullYear();\n            for (i = _this2.year; i > _this2.year - 11; i--) {\n              _this2.yearItems.push(i);\n            }\n            _this2.loadSparkLine();\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  }\n};","map":{"version":3,"names":["numeral","gradients","components","data","value","date","Date","year","yearItems","fill","selectedGradient","padding","radius","labelSize","width","methods","formattedPrice","price","format","renderLabel","item","concat","index","loadSparkLine","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","i","wrap","_callee$","_context","prev","next","$axios","get","then","res","push","sale_value","err","console","error","stop","created","_this2","_callee2","_callee2$","_context2","getFullYear"],"sources":["src/components/Sales.vue"],"sourcesContent":["<template>\n  <v-card class=\"mx-auto text-center\">\n    <v-card-actions>\n      <v-row>\n        <v-col cols=\"3\">\n          <v-select\n            :items=\"yearItems\"\n            label=\"Year\"\n            v-model=\"year\"\n            @change=\"loadSparkLine\"\n            append-icon=\"mdi-calendar\"\n          ></v-select>\n        </v-col>\n      </v-row>\n    </v-card-actions>\n\n    <v-card-text>\n      <div class=\"text-h4 font-weight-thin\">SALES IN {{ this.year }}</div>\n    </v-card-text>\n\n    <v-card-text>\n      <v-sparkline\n        :value=\"value\"\n        :label-size=\"labelSize\"\n        :fill=\"fill\"\n        :gradient=\"selectedGradient\"\n        :line-width=\"width\"\n        :padding=\"padding\"\n        :smooth=\"radius || false\"\n        auto-draw\n      >\n        <template v-slot:label=\"item\">\n          {{ renderLabel(item) }}\n        </template>\n      </v-sparkline>\n    </v-card-text>\n\n    <v-card-actions class=\"ml-6 mr-6\">\n      <v-row>\n        <v-col cols=\"12\" md=\"6\">\n          <v-row class=\"fill-height\" align=\"center\">\n            <v-item-group v-model=\"selectedGradient\" mandatory>\n              <v-row>\n                <v-item\n                  v-for=\"(gradient, i) in gradients\"\n                  :key=\"i\"\n                  v-slot=\"{ active, toggle }\"\n                  :value=\"gradient\"\n                >\n                  <v-card\n                    :style=\"{\n                      background:\n                        gradient.length > 1\n                          ? `linear-gradient(0deg, ${gradient})`\n                          : gradient[0],\n                      border: '2px solid',\n                      borderColor: active ? '#222' : 'white',\n                    }\"\n                    width=\"30\"\n                    height=\"30\"\n                    class=\"mr-2\"\n                    @click.native=\"toggle\"\n                  ></v-card>\n                </v-item>\n              </v-row>\n            </v-item-group>\n          </v-row>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"6\">\n          <v-slider\n            v-model=\"width\"\n            label=\"Line width\"\n            min=\"0.1\"\n            max=\"10\"\n            step=\"0.1\"\n            thumb-label\n          ></v-slider>\n        </v-col>\n\n        <v-col cols=\"6\">\n          <v-row class=\"fill-height\" align=\"center\">\n            <v-switch v-model=\"fill\" label=\"Filled\"></v-switch>\n          </v-row>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"6\">\n          <v-slider\n            v-model=\"radius\"\n            label=\"Radius\"\n            min=\"0\"\n            max=\"25\"\n            thumb-label\n          ></v-slider>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"6\" offset-md=\"6\">\n          <v-slider\n            v-model=\"padding\"\n            label=\"Padding\"\n            min=\"0\"\n            max=\"25\"\n            thumb-label\n          ></v-slider>\n        </v-col>\n\n        <v-col cols=\"6\" offset-md=\"6\">\n          <v-slider\n            v-model=\"labelSize\"\n            label=\"Label size\"\n            min=\"0.1\"\n            max=\"10\"\n            step=\"0.05\"\n            thumb-label\n          ></v-slider>\n        </v-col>\n      </v-row>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport numeral from \"numeral\";\n\n\nconst gradients = [\n  [\"#42b3f4\"],\n  [\"red\", \"orange\", \"yellow\"],\n  [\"purple\", \"violet\"],\n  [\"#00c6ff\", \"#F0F\", \"#FF0\"],\n  [\"#f72047\", \"#ffd200\", \"#1feaea\"],\n];\n\nexport default {\n  components: {\n  },\n  data: () => ({\n    value: [],\n    date: new Date(),\n    year: 0,\n    yearItems: [],\n    fill: false,\n    selectedGradient: gradients[4],\n    gradients,\n    padding: 8,\n    radius: 10,\n    labelSize: 2,\n    width: 2,\n  }),\n\n  methods: {\n    formattedPrice(price) {\n      return numeral(price).format(\"0,0\");\n    },\n\n    renderLabel(item) {\n      if (item.value != 0) {\n        return `${item.index + 1}/${this.year} - ${this.formattedPrice(\n          item.value\n        )} VNƒê`;\n      } else {\n        return \"-\";\n      }\n    },\n\n    async loadSparkLine() {\n      this.value = [];\n      for (let i = 1; i <= 12; i++) {\n        await this.$axios\n          .get(`/sales?month=${i}&year=${this.year}`)\n          .then((res) => {\n            this.value.push(res.data.sale_value);\n          })\n          .catch((err) => {\n            console.error(err);\n          });\n      }\n    },\n  },\n\n  async created() {\n    this.year = this.date.getFullYear();\n\n    for (let i = this.year; i > this.year - 11; i--) {\n      this.yearItems.push(i);\n    }\n\n    this.loadSparkLine();\n  },\n};\n</script>\n"],"mappings":";;;;;AA0HA,OAAAA,OAAA;AAGA,IAAAC,SAAA,IACA,aACA,6BACA,sBACA,6BACA,kCACA;AAEA;EACAC,UAAA,GACA;EACAC,IAAA,WAAAA,KAAA;IAAA;MACAC,KAAA;MACAC,IAAA,MAAAC,IAAA;MACAC,IAAA;MACAC,SAAA;MACAC,IAAA;MACAC,gBAAA,EAAAT,SAAA;MACAA,SAAA,EAAAA,SAAA;MACAU,OAAA;MACAC,MAAA;MACAC,SAAA;MACAC,KAAA;IACA;EAAA;EAEAC,OAAA;IACAC,cAAA,WAAAA,eAAAC,KAAA;MACA,OAAAjB,OAAA,CAAAiB,KAAA,EAAAC,MAAA;IACA;IAEAC,WAAA,WAAAA,YAAAC,IAAA;MACA,IAAAA,IAAA,CAAAhB,KAAA;QACA,UAAAiB,MAAA,CAAAD,IAAA,CAAAE,KAAA,WAAAD,MAAA,MAAAd,IAAA,SAAAc,MAAA,MAAAL,cAAA,CACAI,IAAA,CAAAhB,KACA;MACA;QACA;MACA;IACA;IAEAmB,aAAA,WAAAA,cAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,CAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAV,KAAA,CAAApB,KAAA;cACAyB,CAAA;YAAA;cAAA,MAAAA,CAAA;gBAAAG,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACAV,KAAA,CAAAW,MAAA,CACAC,GAAA,iBAAAf,MAAA,CAAAQ,CAAA,YAAAR,MAAA,CAAAG,KAAA,CAAAjB,IAAA,GACA8B,IAAA,WAAAC,GAAA;gBACAd,KAAA,CAAApB,KAAA,CAAAmC,IAAA,CAAAD,GAAA,CAAAnC,IAAA,CAAAqC,UAAA;cACA,WACA,WAAAC,GAAA;gBACAC,OAAA,CAAAC,KAAA,CAAAF,GAAA;cACA;YAAA;cARAZ,CAAA;cAAAG,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAA;cAAA,OAAAF,QAAA,CAAAY,IAAA;UAAA;QAAA,GAAAhB,OAAA;MAAA;IAUA;EACA;EAEAiB,OAAA,WAAAA,QAAA;IAAA,IAAAC,MAAA;IAAA,OAAArB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAoB,SAAA;MAAA,IAAAlB,CAAA;MAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAkB,UAAAC,SAAA;QAAA,kBAAAA,SAAA,CAAAhB,IAAA,GAAAgB,SAAA,CAAAf,IAAA;UAAA;YACAY,MAAA,CAAAvC,IAAA,GAAAuC,MAAA,CAAAzC,IAAA,CAAA6C,WAAA;YAEA,KAAArB,CAAA,GAAAiB,MAAA,CAAAvC,IAAA,EAAAsB,CAAA,GAAAiB,MAAA,CAAAvC,IAAA,OAAAsB,CAAA;cACAiB,MAAA,CAAAtC,SAAA,CAAA+B,IAAA,CAAAV,CAAA;YACA;YAEAiB,MAAA,CAAAvB,aAAA;UAAA;UAAA;YAAA,OAAA0B,SAAA,CAAAL,IAAA;QAAA;MAAA,GAAAG,QAAA;IAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}