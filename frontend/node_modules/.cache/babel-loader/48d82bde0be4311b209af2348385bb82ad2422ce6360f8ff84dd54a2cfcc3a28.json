{"ast":null,"code":"import \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.push.js\";\n// Components\nimport VInput from '../../components/VInput'; // Mixins\n\nimport Rippleable from '../rippleable';\nimport Comparable from '../comparable'; // Utilities\n\nimport mixins from '../../util/mixins';\nexport function prevent(e) {\n  e.preventDefault();\n}\n/* @vue/component */\n\nexport default mixins(VInput, Rippleable, Comparable).extend({\n  name: 'selectable',\n  model: {\n    prop: 'inputValue',\n    event: 'change'\n  },\n  props: {\n    id: String,\n    inputValue: null,\n    falseValue: null,\n    trueValue: null,\n    multiple: {\n      type: Boolean,\n      \"default\": null\n    },\n    label: String\n  },\n  data: function data() {\n    return {\n      hasColor: this.inputValue,\n      lazyValue: this.inputValue\n    };\n  },\n  computed: {\n    computedColor: function computedColor() {\n      if (!this.isActive) return undefined;\n      if (this.color) return this.color;\n      if (this.isDark && !this.appIsDark) return 'white';\n      return 'primary';\n    },\n    isMultiple: function isMultiple() {\n      return this.multiple === true || this.multiple === null && Array.isArray(this.internalValue);\n    },\n    isActive: function isActive() {\n      var _this = this;\n      var value = this.value;\n      var input = this.internalValue;\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) return false;\n        return input.some(function (item) {\n          return _this.valueComparator(item, value);\n        });\n      }\n      if (this.trueValue === undefined || this.falseValue === undefined) {\n        return value ? this.valueComparator(value, input) : Boolean(input);\n      }\n      return this.valueComparator(input, this.trueValue);\n    },\n    isDirty: function isDirty() {\n      return this.isActive;\n    },\n    rippleState: function rippleState() {\n      return !this.isDisabled && !this.validationState ? undefined : this.validationState;\n    }\n  },\n  watch: {\n    inputValue: function inputValue(val) {\n      this.lazyValue = val;\n      this.hasColor = val;\n    }\n  },\n  methods: {\n    genLabel: function genLabel() {\n      var label = VInput.options.methods.genLabel.call(this);\n      if (!label) return label;\n      label.data.on = {\n        // Label shouldn't cause the input to focus\n        click: prevent\n      };\n      return label;\n    },\n    genInput: function genInput(type, attrs) {\n      return this.$createElement('input', {\n        attrs: Object.assign({\n          'aria-checked': this.isActive.toString(),\n          disabled: this.isDisabled,\n          id: this.computedId,\n          role: type,\n          type: type\n        }, attrs),\n        domProps: {\n          value: this.value,\n          checked: this.isActive\n        },\n        on: {\n          blur: this.onBlur,\n          change: this.onChange,\n          focus: this.onFocus,\n          keydown: this.onKeydown,\n          click: prevent\n        },\n        ref: 'input'\n      });\n    },\n    onClick: function onClick(e) {\n      this.onChange();\n      this.$emit('click', e);\n    },\n    onChange: function onChange() {\n      var _this2 = this;\n      if (!this.isInteractive) return;\n      var value = this.value;\n      var input = this.internalValue;\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) {\n          input = [];\n        }\n        var length = input.length;\n        input = input.filter(function (item) {\n          return !_this2.valueComparator(item, value);\n        });\n        if (input.length === length) {\n          input.push(value);\n        }\n      } else if (this.trueValue !== undefined && this.falseValue !== undefined) {\n        input = this.valueComparator(input, this.trueValue) ? this.falseValue : this.trueValue;\n      } else if (value) {\n        input = this.valueComparator(input, value) ? null : value;\n      } else {\n        input = !input;\n      }\n      this.validate(true, input);\n      this.internalValue = input;\n      this.hasColor = input;\n    },\n    onFocus: function onFocus(e) {\n      this.isFocused = true;\n      this.$emit('focus', e);\n    },\n    onBlur: function onBlur(e) {\n      this.isFocused = false;\n      this.$emit('blur', e);\n    },\n    /** @abstract */onKeydown: function onKeydown(e) {}\n  }\n});","map":{"version":3,"names":["VInput","Rippleable","Comparable","mixins","prevent","e","preventDefault","extend","name","model","prop","event","props","id","String","inputValue","falseValue","trueValue","multiple","type","Boolean","label","data","hasColor","lazyValue","computed","computedColor","isActive","undefined","color","isDark","appIsDark","isMultiple","Array","isArray","internalValue","_this","value","input","some","item","valueComparator","isDirty","rippleState","isDisabled","validationState","watch","val","methods","genLabel","options","call","on","click","genInput","attrs","$createElement","Object","assign","toString","disabled","computedId","role","domProps","checked","blur","onBlur","change","onChange","focus","onFocus","keydown","onKeydown","ref","onClick","$emit","_this2","isInteractive","length","filter","push","validate","isFocused"],"sources":["../../../src/mixins/selectable/index.ts"],"sourcesContent":["// Components\nimport VInput from '../../components/VInput'\n\n// Mixins\nimport Rippleable from '../rippleable'\nimport Comparable from '../comparable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\nexport function prevent (e: Event) {\n  e.preventDefault()\n}\n\n/* @vue/component */\nexport default mixins(\n  VInput,\n  Rippleable,\n  Comparable\n).extend({\n  name: 'selectable',\n\n  model: {\n    prop: 'inputValue',\n    event: 'change',\n  },\n\n  props: {\n    id: String,\n    inputValue: null as any,\n    falseValue: null as any,\n    trueValue: null as any,\n    multiple: {\n      type: Boolean,\n      default: null,\n    },\n    label: String,\n  },\n\n  data () {\n    return {\n      hasColor: this.inputValue,\n      lazyValue: this.inputValue,\n    }\n  },\n\n  computed: {\n    computedColor (): string | undefined {\n      if (!this.isActive) return undefined\n      if (this.color) return this.color\n      if (this.isDark && !this.appIsDark) return 'white'\n      return 'primary'\n    },\n    isMultiple (): boolean {\n      return this.multiple === true || (this.multiple === null && Array.isArray(this.internalValue))\n    },\n    isActive (): boolean {\n      const value = this.value\n      const input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) return false\n\n        return input.some(item => this.valueComparator(item, value))\n      }\n\n      if (this.trueValue === undefined || this.falseValue === undefined) {\n        return value\n          ? this.valueComparator(value, input)\n          : Boolean(input)\n      }\n\n      return this.valueComparator(input, this.trueValue)\n    },\n    isDirty (): boolean {\n      return this.isActive\n    },\n    rippleState (): string | undefined {\n      return !this.isDisabled && !this.validationState\n        ? undefined\n        : this.validationState\n    },\n  },\n\n  watch: {\n    inputValue (val) {\n      this.lazyValue = val\n      this.hasColor = val\n    },\n  },\n\n  methods: {\n    genLabel () {\n      const label = VInput.options.methods.genLabel.call(this)\n\n      if (!label) return label\n\n      label!.data!.on = {\n        // Label shouldn't cause the input to focus\n        click: prevent,\n      }\n\n      return label\n    },\n    genInput (type: string, attrs: object) {\n      return this.$createElement('input', {\n        attrs: Object.assign({\n          'aria-checked': this.isActive.toString(),\n          disabled: this.isDisabled,\n          id: this.computedId,\n          role: type,\n          type,\n        }, attrs),\n        domProps: {\n          value: this.value,\n          checked: this.isActive,\n        },\n        on: {\n          blur: this.onBlur,\n          change: this.onChange,\n          focus: this.onFocus,\n          keydown: this.onKeydown,\n          click: prevent,\n        },\n        ref: 'input',\n      })\n    },\n    onClick (e: Event) {\n      this.onChange()\n      this.$emit('click', e)\n    },\n    onChange () {\n      if (!this.isInteractive) return\n\n      const value = this.value\n      let input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) {\n          input = []\n        }\n\n        const length = input.length\n\n        input = input.filter((item: any) => !this.valueComparator(item, value))\n\n        if (input.length === length) {\n          input.push(value)\n        }\n      } else if (this.trueValue !== undefined && this.falseValue !== undefined) {\n        input = this.valueComparator(input, this.trueValue) ? this.falseValue : this.trueValue\n      } else if (value) {\n        input = this.valueComparator(input, value) ? null : value\n      } else {\n        input = !input\n      }\n\n      this.validate(true, input)\n      this.internalValue = input\n      this.hasColor = input\n    },\n    onFocus (e: FocusEvent) {\n      this.isFocused = true\n      this.$emit('focus', e)\n    },\n    onBlur (e: FocusEvent) {\n      this.isFocused = false\n      this.$emit('blur', e)\n    },\n    /** @abstract */\n    onKeydown (e: Event) {},\n  },\n})\n"],"mappings":";;;;;;;;AAAA;AACA,OAAOA,MAAP,MAAmB,yBAAnB,C,CAEA;;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,UAAP,MAAuB,eAAvB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAM,SAAUC,OAAVA,CAAmBC,CAAnB,EAA2B;EAC/BA,CAAC,CAACC,cAAF;AACD;AAED;;AACA,eAAeH,MAAM,CACnBH,MADmB,EAEnBC,UAFmB,EAGnBC,UAHmB,CAAN,CAIbK,MAJa,CAIN;EACPC,IAAI,EAAE,YADC;EAGPC,KAAK,EAAE;IACLC,IAAI,EAAE,YADD;IAELC,KAAK,EAAE;EAFF,CAHA;EAQPC,KAAK,EAAE;IACLC,EAAE,EAAEC,MADC;IAELC,UAAU,EAAE,IAFP;IAGLC,UAAU,EAAE,IAHP;IAILC,SAAS,EAAE,IAJN;IAKLC,QAAQ,EAAE;MACRC,IAAI,EAAEC,OADE;MAER,WAAS;IAFD,CALL;IASLC,KAAK,EAAEP;EATF,CARA;EAoBPQ,IAAI,WAAAA,KAAA;IACF,OAAO;MACLC,QAAQ,EAAE,KAAKR,UADV;MAELS,SAAS,EAAE,KAAKT;IAFX,CAAP;EAID,CAzBM;EA2BPU,QAAQ,EAAE;IACRC,aAAa,WAAAA,cAAA;MACX,IAAI,CAAC,KAAKC,QAAV,EAAoB,OAAOC,SAAP;MACpB,IAAI,KAAKC,KAAT,EAAgB,OAAO,KAAKA,KAAZ;MAChB,IAAI,KAAKC,MAAL,IAAe,CAAC,KAAKC,SAAzB,EAAoC,OAAO,OAAP;MACpC,OAAO,SAAP;IACD,CANO;IAORC,UAAU,WAAAA,WAAA;MACR,OAAO,KAAKd,QAAL,KAAkB,IAAlB,IAA2B,KAAKA,QAAL,KAAkB,IAAlB,IAA0Be,KAAK,CAACC,OAAN,CAAc,KAAKC,aAAnB,CAA5D;IACD,CATO;IAURR,QAAQ,WAAAA,SAAA;MAAA,IAAAS,KAAA;MACN,IAAMC,KAAK,GAAG,KAAKA,KAAnB;MACA,IAAMC,KAAK,GAAG,KAAKH,aAAnB;MAEA,IAAI,KAAKH,UAAT,EAAqB;QACnB,IAAI,CAACC,KAAK,CAACC,OAAN,CAAcI,KAAd,CAAL,EAA2B,OAAO,KAAP;QAE3B,OAAOA,KAAK,CAACC,IAAN,CAAW,UAAAC,IAAI;UAAA,OAAIJ,KAAA,CAAKK,eAAL,CAAqBD,IAArB,EAA2BH,KAA3B,CAAnB;QAAA,EAAP;MACD;MAED,IAAI,KAAKpB,SAAL,KAAmBW,SAAnB,IAAgC,KAAKZ,UAAL,KAAoBY,SAAxD,EAAmE;QACjE,OAAOS,KAAK,GACR,KAAKI,eAAL,CAAqBJ,KAArB,EAA4BC,KAA5B,CADQ,GAERlB,OAAO,CAACkB,KAAD,CAFX;MAGD;MAED,OAAO,KAAKG,eAAL,CAAqBH,KAArB,EAA4B,KAAKrB,SAAjC,CAAP;IACD,CA3BO;IA4BRyB,OAAO,WAAAA,QAAA;MACL,OAAO,KAAKf,QAAZ;IACD,CA9BO;IA+BRgB,WAAW,WAAAA,YAAA;MACT,OAAO,CAAC,KAAKC,UAAN,IAAoB,CAAC,KAAKC,eAA1B,GACHjB,SADG,GAEH,KAAKiB,eAFT;IAGD;EAnCO,CA3BH;EAiEPC,KAAK,EAAE;IACL/B,UAAU,WAAAA,WAAEgC,GAAF,EAAK;MACb,KAAKvB,SAAL,GAAiBuB,GAAjB;MACA,KAAKxB,QAAL,GAAgBwB,GAAhB;IACD;EAJI,CAjEA;EAwEPC,OAAO,EAAE;IACPC,QAAQ,WAAAA,SAAA;MACN,IAAM5B,KAAK,GAAGrB,MAAM,CAACkD,OAAP,CAAeF,OAAf,CAAuBC,QAAvB,CAAgCE,IAAhC,CAAqC,IAArC,CAAd;MAEA,IAAI,CAAC9B,KAAL,EAAY,OAAOA,KAAP;MAEZA,KAAM,CAACC,IAAP,CAAa8B,EAAb,GAAkB;QAChB;QACAC,KAAK,EAAEjD;MAFS,CAAlB;MAKA,OAAOiB,KAAP;IACD,CAZM;IAaPiC,QAAQ,WAAAA,SAAEnC,IAAF,EAAgBoC,KAAhB,EAA6B;MACnC,OAAO,KAAKC,cAAL,CAAoB,OAApB,EAA6B;QAClCD,KAAK,EAAEE,MAAM,CAACC,MAAP,CAAc;UACnB,gBAAgB,KAAK/B,QAAL,CAAcgC,QAAd,EADG;UAEnBC,QAAQ,EAAE,KAAKhB,UAFI;UAGnB/B,EAAE,EAAE,KAAKgD,UAHU;UAInBC,IAAI,EAAE3C,IAJa;UAKnBA,IAAA,EAAAA;QALmB,CAAd,EAMJoC,KANI,CAD2B;QAQlCQ,QAAQ,EAAE;UACR1B,KAAK,EAAE,KAAKA,KADJ;UAER2B,OAAO,EAAE,KAAKrC;QAFN,CARwB;QAYlCyB,EAAE,EAAE;UACFa,IAAI,EAAE,KAAKC,MADT;UAEFC,MAAM,EAAE,KAAKC,QAFX;UAGFC,KAAK,EAAE,KAAKC,OAHV;UAIFC,OAAO,EAAE,KAAKC,SAJZ;UAKFnB,KAAK,EAAEjD;QALL,CAZ8B;QAmBlCqE,GAAG,EAAE;MAnB6B,CAA7B,CAAP;IAqBD,CAnCM;IAoCPC,OAAO,WAAAA,QAAErE,CAAF,EAAU;MACf,KAAK+D,QAAL;MACA,KAAKO,KAAL,CAAW,OAAX,EAAoBtE,CAApB;IACD,CAvCM;IAwCP+D,QAAQ,WAAAA,SAAA;MAAA,IAAAQ,MAAA;MACN,IAAI,CAAC,KAAKC,aAAV,EAAyB;MAEzB,IAAMxC,KAAK,GAAG,KAAKA,KAAnB;MACA,IAAIC,KAAK,GAAG,KAAKH,aAAjB;MAEA,IAAI,KAAKH,UAAT,EAAqB;QACnB,IAAI,CAACC,KAAK,CAACC,OAAN,CAAcI,KAAd,CAAL,EAA2B;UACzBA,KAAK,GAAG,EAAR;QACD;QAED,IAAMwC,MAAM,GAAGxC,KAAK,CAACwC,MAArB;QAEAxC,KAAK,GAAGA,KAAK,CAACyC,MAAN,CAAc,UAAAvC,IAAD;UAAA,OAAe,CAACoC,MAAA,CAAKnC,eAAL,CAAqBD,IAArB,EAA2BH,KAA3B,CAA7B;QAAA,EAAR;QAEA,IAAIC,KAAK,CAACwC,MAAN,KAAiBA,MAArB,EAA6B;UAC3BxC,KAAK,CAAC0C,IAAN,CAAW3C,KAAX;QACD;MACF,CAZD,MAYO,IAAI,KAAKpB,SAAL,KAAmBW,SAAnB,IAAgC,KAAKZ,UAAL,KAAoBY,SAAxD,EAAmE;QACxEU,KAAK,GAAG,KAAKG,eAAL,CAAqBH,KAArB,EAA4B,KAAKrB,SAAjC,IAA8C,KAAKD,UAAnD,GAAgE,KAAKC,SAA7E;MACD,CAFM,MAEA,IAAIoB,KAAJ,EAAW;QAChBC,KAAK,GAAG,KAAKG,eAAL,CAAqBH,KAArB,EAA4BD,KAA5B,IAAqC,IAArC,GAA4CA,KAApD;MACD,CAFM,MAEA;QACLC,KAAK,GAAG,CAACA,KAAT;MACD;MAED,KAAK2C,QAAL,CAAc,IAAd,EAAoB3C,KAApB;MACA,KAAKH,aAAL,GAAqBG,KAArB;MACA,KAAKf,QAAL,GAAgBe,KAAhB;IACD,CArEM;IAsEPgC,OAAO,WAAAA,QAAEjE,CAAF,EAAe;MACpB,KAAK6E,SAAL,GAAiB,IAAjB;MACA,KAAKP,KAAL,CAAW,OAAX,EAAoBtE,CAApB;IACD,CAzEM;IA0EP6D,MAAM,WAAAA,OAAE7D,CAAF,EAAe;MACnB,KAAK6E,SAAL,GAAiB,KAAjB;MACA,KAAKP,KAAL,CAAW,MAAX,EAAmBtE,CAAnB;IACD,CA7EM;IA8EP,gBACAmE,SAAS,WAAAA,UAAEnE,CAAF,EAAU,CAAI;EA/EhB;AAxEF,CAJM,CAAf"},"metadata":{},"sourceType":"module","externalDependencies":[]}